<!DOCTYPE html>
<html lang="es">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<!-- Establece la base ruta de la aplicación(elimina # como base predeterminada) -->
		<base href="/">

		<!-- Angular Material -->
		<link rel="stylesheet" href="libs/angular-material/angular-material.min.css">
		<!-- Roboto Typography -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
		<!-- Material Icons -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

		<!-- md-data-table -->
		<link rel="stylesheet" href="libs/angular-material-data-table/dist/md-data-table.min.css">
		<!-- <link rel="stylesheet" href="css/material-icons.css"> -->
		<link rel="stylesheet" href="css/index.css">
	</head>

	<body ng-app="laisFotoApp" ng-controller="IndexController">

		<md-toolbar>
			<div class="md-toolbar-tools">
				<md-button class="md-icon-button" aria-label="Menu" ng-click="toggleMenu()">
					<i class="material-icons">menu</i>
				</md-button>

				<h2 flex md-truncate>Fotografía e investigación</h2>
			</div>
		</md-toolbar>

		<md-content class="md-padding">
			<md-nav-bar md-selected-nav-item="currentNavItem" nav-bar-aria-label="navigation links">
				<md-nav-item md-nav-href="/" name="inicio">
					Inicio
				</md-nav-item>
				<md-nav-item md-nav-href="/conjunto/nuevo" name="conjuntos">
					Conjunto
				</md-nav-item>
				<md-nav-item md-nav-href="/unidad/nuevo" name="unidades">
					Unidad
				</md-nav-item>
			</md-nav-bar>
		</md-content>
		
		<md-sidenav md-component-id="menu">
			<md-toolbar class="md-theme-indigo">
				<h1 class="md-toolbar-tools">Colección</h1>
			</md-toolbar>
			<md-content layout-padding>
				<md-list>
					<div ng-repeat="conjunto in subconjuntos"> <!-- Uso de ng-repeat y ng-include para crear lista de conjuntos recursivamente -->
						<md-list-item ng-click="verConjunto(conjunto.sufijo)">{{conjunto.identificacion.titulo}}</md-list-item>
						<md-list-item ng-if="conjunto.subconjuntos.length != 0" ng-include="'menu.html'"></md-list-item>
					</div>
				</md-list>
				<!-- <md-list>
					<md-list-item> Item 1 </md-list-item>
					<md-list-item> Item 2 </md-list-item>
					<md-list-item> Item 3 </md-list-item>
					<md-list-item>
						<md-list>
							<md-list-item> Subitem 1 </md-list-item>
							<md-list-item> Subitem 2 </md-list-item>
							<md-list-item>
								<md-list>
									<md-list-item> Subsubitem 1 </md-list-item>
									<md-list-item> Subsubitem 2 </md-list-item>
								</md-list>
							</md-list-item>
							<md-list-item> Subitem 3 </md-list-item>
						</md-list>
					</md-list-item>
				</md-list> -->
				<md-button ng-click="toggleMenu()" class="md-primary">Cerrar</md-button>
			</md-content>
		</md-sidenav>

		<div ng-view></div>

		<!-- <footer layout="row" layout-wrap layout-align="center" class="footer">
			<div flex="80">
				<p>
					Place footer content here.
				</p>
			</div>
		</footer> -->

		<!-- Script auxiliar para la creación recursiva de la lista de conjuntos -->
		<script type="text/ng-template" id="menu.html">
			<md-list>
				<div ng-repeat="conjunto in conjunto.subconjuntos">
					<md-list-item ng-click="gotoUnidad(conjunto.sufijo)">{{conjunto.identificacion.titulo}}</md-list-item>
					<md-list-item ng-if="conjunto.subconjuntos.length != 0" ng-include="'menu.html'"></md-list-item>
				</div>
			</md-list>
		</script>

		<!-- Angular -->
		<script src="libs/angular/angular.min.js"></script>
		<script src="libs/angular-aria/angular-aria.min.js"></script>
		<script src="libs/angular-animate/angular-animate.min.js"></script>
		<script src="libs/angular-messages/angular-messages.min.js"></script>
		<script src="libs/angular-route/angular-route.min.js"></script>
		<script src="libs/angular-material/angular-material.min.js"></script>
		<script src="libs/angular-material-data-table/dist/md-data-table.min.js"></script>

		<script src="angular/services/conjuntoDocumentalService.js"></script>
		<script src="angular/services/unidadDocumentalService.js"></script>
		<script src="angular/services/fileService.js"></script>

		<script src="angular/controllers/indexCtrl.js"></script>
		<script src="angular/controllers/inicioCtrl.js"></script>
		<script src="angular/controllers/conjuntoDocumentalFormCtrl.js"></script>
		<script src="angular/controllers/unidadDocumentalFormCtrl.js"></script>
		<script src="angular/controllers/conjuntosDocumentalesCtrl.js"></script>
		<script src="angular/controllers/unidadesDocumentalesCtrl.js"></script>
		<script src="angular/appRoutes.js"></script>
		<script src="angular/app.js"></script>
	</body>
</html>